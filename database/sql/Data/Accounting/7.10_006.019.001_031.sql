INSERT INTO acc.CT_DOCUMENT_TYPE (DOCUMENT_TYPE_ID, DESCRIPTION, ACCOUNT_TYPE_ID, PAYABLE) values (1012,'Allocation - advance payment',NULL,NULL);
INSERT INTO acc.CT_DOCUMENT_TYPE (DOCUMENT_TYPE_ID, DESCRIPTION, ACCOUNT_TYPE_ID, PAYABLE) values (1013,'Allocation - advance payment - posted',NULL,NULL);

INSERT INTO acc.CT_GL_ACCOUNT_TYPE (GL_ACCOUNT_TYPE_ID,DESCRIPTION, IS_DEBIT, ATTRIBUTE_SET_ID, FROM_PAYMENT) values (1012,'Accounts receivable - Advance',0,2,0);

update acc.GL_ACCOUNT set GL_ACCOUNT_TYPE_ID = 1012 where GL_ACCOUNT_NO = '48002'
INSERT INTO acc.GL_ACCOUNT (GL_ACCOUNT_TYPE_ID, GL_ACCOUNT_NO, DESCRIPTION, PARENT_ACCOUNT_ID, SYNTHETIC)
VALUES
(1012,'48004', N'Расчеты по страховым премиям (взносам) со страхователями по договорам страхования иного, чем страхование жизни',NULL,0);

INSERT INTO ACC.CT_GL_POSTING_SCHEME(POSTING_SCHEME_ID, SCHEME_NAME, SCHEME_TYPE_ID, JOURNAL_TYPE_ID, VALUE_SIGN, BA_ACCOUNT_TYPE_ID, INTERNAL, SOURCE_DOC_TYPE_ID, OPENED_BY_ENTRY_TYPE_ID, VALIDITY_START, VALIDITY_END, EXPLICIT, ITEM_TYPE_ID)
VALUES
(63, 'Payment allocation - Advance', 1, 12, null, null, 0, 1012, null, '19000101', '9999-12-31', 0, null),
(64, 'Payment allocation - Advance - Posted', 1, 12, null, null, 0, 1013, null, '19000101', '9999-12-31', 0, null)
;

INSERT INTO ACC.GL_POSTING_SCHEME(POSTING_SCHEME_ID, SEQ_NUMBER, IS_DEBIT, GL_ACCOUNT_TYPE_ID, SIGN, VALUE_FIELD_ID, NET_VALUE_FIELD_ID, PAIR_NO, PAIR_SEQ_NO)
VALUES
(63, 1, 1, 1005, 1, 4, 4, 1, 1),
(63, 2, 0, 1012, 1, 4, 4, 1, 2),
(64, 1, 1, 1012, 1, 4, 4, 1, 1),
(64, 2, 0, 1001, 1, 4, 4, 1, 2)
;

INSERT INTO ACC.GL_POSTING_PROFILE(GL_ACCOUNT_TYPE_ID, ATTRIBUTE_VALUE_SET_ID, GL_ACCOUNT_ID, ATTRIBUTE_SET_ID, PREVIOUS_PERIOD, BA_ACCOUNT_TYPE_ID, PAYMENT_DOCUMENT_TYPE_ID, ANALYTICS_ATTRIBUTE_SET_ID, VALIDITY_START, VALIDITY_END, INVOICE_DOCUMENT_TYPE_ID)
VALUES
(1012, (select ATTRIBUTE_VALUE_SET_ID from ACC.ATTRIBUTE_VALUE_SET where AVS_PURPOSE_ID = 3 AND IS_LIFE = 1), (select gl_account_id from acc.gl_account where gl_account_no='48002'), 6, NULL, null, null, null, '19000101', '99991231', null),
(1012, (select ATTRIBUTE_VALUE_SET_ID from ACC.ATTRIBUTE_VALUE_SET where AVS_PURPOSE_ID = 3 AND IS_LIFE = 0), (select gl_account_id from acc.gl_account where gl_account_no='48004'), 6, NULL, null, null, null, '19000101', '99991231', null)
;

--TRANSACTION DEFINITION
INSERT INTO ACC_IMPL.TRANSACTION_DEFINITION (TRANSACTION_DEFINITION_NO, GL_ACCOUNT_ID_DT, OFR_ID_DT, GL_ACCOUNT_ID_CT, OFR_ID_CT, DOCUMENT_TYPE_ID, BELEGTC, BELEGSC_ALGL_2, BELEGSC_ALGL_3, BUCHUGC, VORGAST_ALGL_2, VORGAST_ALGL_3)
VALUES
('3.5.1', (select GL_ACCOUNT_ID from acc.GL_ACCOUNT where GL_ACCOUNT_NO = '48029'),	null, (select GL_ACCOUNT_ID from acc.GL_ACCOUNT where GL_ACCOUNT_NO = '48002'), null, null, '09', '09701', '09701', '10', null, null),
('3.5.2', (select GL_ACCOUNT_ID from acc.GL_ACCOUNT where GL_ACCOUNT_NO = '48029'),	null, (select GL_ACCOUNT_ID from acc.GL_ACCOUNT where GL_ACCOUNT_NO = '48004'), null, null, '09', '09701', '09701', '10', null, null),
('3.5.3', (select GL_ACCOUNT_ID from acc.GL_ACCOUNT where GL_ACCOUNT_NO = '48002'),	null, (select GL_ACCOUNT_ID from acc.GL_ACCOUNT where GL_ACCOUNT_NO = '48001'), null, null, '09', '09705', '09705', '10', null, null),
('3.5.4', (select GL_ACCOUNT_ID from acc.GL_ACCOUNT where GL_ACCOUNT_NO = '48004'),	null, (select GL_ACCOUNT_ID from acc.GL_ACCOUNT where GL_ACCOUNT_NO = '48003'), null, null, '09', '09705', '09705', '10', null, null);

--SAP GL ACCOUNT
insert into ACC_IMPL.SAP_GL_ACCOUNT_RULE (GL_ACCOUNT_ID, OFR_ID, PREVIOUS_PERIOD, PERSON_TYPE_ID, SAP_GL_ACCOUNT_ID)
values
((select GL_ACCOUNT_ID from ACC.GL_ACCOUNT where GL_ACCOUNT_NO = '48004' and GL_ACCOUNT_TYPE_ID = 1012), null, null, null, (select SAP_GL_ACCOUNT_ID from ACC_IMPL.SAP_GL_ACCOUNT where SAP_GL_ACCOUNT_NO = '2910002010'))
;
