INSERT INTO PAS_IMPL.CUMULATION(ID, PRODUCT_GROUP_CODE, PRODUCT_CODE, RISK_GROUP_CODE, LIMIT_AGE_CODE, LIMIT_AMOUNT_CODE, TRIGGER_CODE, ACTIVE_PERIOD_CODE)
VALUES
('A63F08A1-1528-46FC-BA10-0FD5E75D858B', N'RISK_ACCUMULATION_DNS', N'ECATFPVTB', N'DI', N'DONT_CHECK', N'LESS_10500000', N'ApprovalNotRequired', 'ETERNITY'),
('01D89B96-317B-4386-BDEA-67C3A9FAD564', N'RISK_ACCUMULATION_DNS', N'ECATFPVTB', N'DLPW', N'DONT_CHECK', N'LESS_10500000', N'ApprovalNotRequired', 'ETERNITY'),
('2093EFEF-13F2-40BF-BBEC-49A9407E13BB', N'RISK_ACCUMULATION_DNS', N'ECATFVVTB', N'DI', N'DONT_CHECK', N'LESS_10500000', N'ApprovalNotRequired', 'ETERNITY'),
('A2249B0E-D8E5-4D6A-A155-AAD1FD7AA61A', N'RISK_ACCUMULATION_DNS', N'ECATFVVTB', N'DLPW', N'DONT_CHECK', N'LESS_10500000', N'ApprovalNotRequired', 'ETERNITY'),
('C7E74073-DED9-4FB7-AD81-341F9871CD6A', N'RISK_ACCUMULATION_DNS', N'TERMVVTB', N'CDH', N'DONT_CHECK', N'DONT_CHECK', N'ApprovalNotRequired', 'ETERNITY')

IF
EXISTS (SELECT 1 FROM sys.objects WHERE OBJECT_ID = OBJECT_ID(N'[PAS_IMPL].[CUMULATION_RISK_GROUP]') AND TYPE IN (N'U'))
AND
NOT EXISTS (SELECT 1 FROM sys.columns WHERE NAME = N'MAX_RISK_COUNT' AND OBJECT_ID = OBJECT_ID(N'[PAS_IMPL].[CUMULATION_RISK_GROUP]'))
BEGIN
	ALTER TABLE PAS_IMPL.CUMULATION_RISK_GROUP ADD MAX_RISK_COUNT INT NULL
END
GO

IF
EXISTS (SELECT 1 FROM sys.objects WHERE OBJECT_ID = OBJECT_ID(N'[PAS_IMPL].[CUMULATION_RISK_GROUP]') AND TYPE IN (N'U'))
AND
EXISTS (SELECT 1 FROM sys.columns WHERE NAME = N'MAX_RISK_COUNT' AND OBJECT_ID = OBJECT_ID(N'[PAS_IMPL].[CUMULATION_RISK_GROUP]'))
BEGIN
	UPDATE PAS_IMPL.CUMULATION_RISK_GROUP
    SET MAX_RISK_COUNT = 1
    WHERE CODE = 'CDH'
END
GO
