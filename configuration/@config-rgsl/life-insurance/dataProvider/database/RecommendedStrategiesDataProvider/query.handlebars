SELECT DISTINCT

  	recS.PRODUCT_CODE,
	invS.DESCRIPTION STRATEGY_DESCRIPTION,
	recS.STRATEGY_CODE, 
  	recS.RECOMMENDATION_DATE_TO,
	recS.RECOMMENDATION_DATE_FROM,
	recS.RECOMMENDATION_TEXT

FROM PAS_IMPL.RECOMMENDED_STRATEGIES recS
JOIN BFX_IMPL.INVESTMENT_STRATEGY invS ON invS.code = recS.STRATEGY_CODE

{{#unless parameters.getAllStrategies}}

WHERE 
	recS.PRODUCT_CODE = @productCode AND 
	recS.RECOMMENDATION_DATE_FROM <= @recommendationDate AND 
	recS.RECOMMENDATION_DATE_TO >= @recommendationDate

{{/unless}}
